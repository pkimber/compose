{% load block_tags %}
{% load thumbnail %}
{%if testing %}<!-- container.sildeshow -->{% endif %}
<div class="row">
  {% for b in slideshow_list %}
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">

      <ol class="carousel-indicators">
        {% for item in b.ordered_slideshow %}
          <li
            data-target="#carouselExampleIndicators"
            data-slide-to="{{ forloop.counter0 }}"
            {% if forloop.first %}
            class="active"
            {% endif %}></li>
        {% endfor %}
      </ol>

      <div class="carousel-inner" role="listbox">
        {% for item in b.ordered_slideshow %}
          <div class="carousel-item{% if forloop.first %} active{% endif %}">
            <img
              alt="{{ item.image.title }}"
              title="{{ item.image.title }}"
              class="d-block img-fluid"
              src="{% thumbnail item.image.image 2400x700 crop='100,' upscale=True %}">
            <div class="carousel-caption d-none d-md-block">
              <h3>{{ item.image.title }}</h3>
              <p>{{ item }}</p>
              {% if design %}
              <div class="l-box setting-buttons">
                {% block_moderate b request_path=request_path %}
              </div>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>

      <a
        class="carousel-control-prev"
        href="#carouselExampleIndicators"
        role="button"
        data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a
        class="carousel-control-next"
        href="#carouselExampleIndicators"
        role="button"
        data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>

    </div>
  {% empty %}

      {% if design %}
      <div class="col-12">
        <div class="l-box setting-buttons">
          {% block_add slideshow_create_url 'Slideshow' request_path=request_path %}
        </div>
      </div>
      {% endif %}

  {% endfor %}
</div>
{%if testing %}<!-- /container.slideshow -->{% endif %}
